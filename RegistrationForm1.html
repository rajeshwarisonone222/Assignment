<html>

<head>
    <title>
        Registration
    </title>
</head>

<body>
    <div style="width: 550px;">
        <h1>Registration form</h1>
    </div>
    <div>
        <table border="1" style="width: 700px;">
            <tr>
                <td style="width: 200px;">
                    Full Name
                </td>
                <td style="width: 200px;">
                    <input type="text" id="txtFullName" onkeypress="return lettersOnly(event)"
                        onfocusout="fullNameFoucuOut()" />
                </td>
                <td style="width: 300px;">
                    <label id="errFullName" style="visibility: hidden;">Full name is required</label>
                </td>
            </tr>
            <tr>
                <td>
                    Email
                </td>
                <td>
                    <input type="email" id="txtEmail" onfocusout="emailFoucuOut()" />
                </td>
                <td>
                    <label id="errEmail" style="visibility: hidden;"> Email is empty or Email is not valid</label>
                </td>
            </tr>
            <tr>
                <td>
                    Phone number
                </td>
                <td>
                    <input type="text" id="txtPhoneNumber" onkeypress="return numbersOnly(event)" />
                </td>
                <td>
                    <label id="errPhoneNumber" style="visibility: hidden;">Phone number is empty or invalid</label>
                </td>
            </tr>
            <tr>
                <td colspan="3">
                    <input type="button" id="btnSubmit" onclick="alertBox()" value="Submit">
                </td>
             </tr>
            
             <tr>
                 <td>
                    <input type="button" id="gotp" onclick="generateOTP()" value="generatewOTP">
                 </td>
             </tr>
            
        </table>
    </div>
    <script>
        function alertBox() {
  let text;
  let employee = prompt("Dear,Thank you for Thank you for your inquiry. A 4 digit verification number has been sent to your phone number:  please enter 4 digit OTP  and submit for confirmation:");
  if (employee == null || employee == "") {
    text = "User cancelled the prompt.";
  } else {
    text = "Hello " + employee + "! How are you today?";
  }
  document.getElementById("demo").innerHTML = text;
}

        function lettersOnly() {
            var charCode = event.keyCode;
            if ((charCode > 64 && charCode < 91) || (charCode > 96 && charCode < 123) || charCode == 8 || charCode == 32) {
                return true;
            } else {
                return false;
            }
        }



        function numbersOnly() {
            //isNaN function returns true if Not A Number
            if (isNaN(event.key)) {
                return false;
            }
            else {

                var phoneNumber = document.getElementById("txtPhoneNumber").value;

                if (phoneNumber.length == 3 && (phoneNumber >= 621 && phoneNumber <= 799) || (phoneNumber >= 801 && phoneNumber <= 920)) {

                    document.getElementById("txtPhoneNumber").value = document.getElementById("txtPhoneNumber").value + "-"
                }
                if (phoneNumber.length == 11) {
                    document.getElementById("txtPhoneNumber").value = document.getElementById("txtPhoneNumber").value + " - "
                    return false;
                }

                if (phoneNumber.length == 18) {


                    return false;
                }

                return true;

            }
        }


        function validateFullName() {
            var fullName = document.getElementById("txtFullName").value;
            fullName.split(" ");
        }

        function emailFoucuOut() {
            var isEmailValid = validateEmail();
            if (isEmailValid) {
                document.getElementById("errEmail").style.visibility = "hidden";
            } else {
                document.getElementById("errEmail").style.visibility = "visible";
            }

        }

        function validateEmail() {
            var email = document.getElementById("txtEmail").value;
            const re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
            return re.test(String(email).toLowerCase());
        }




        function fullNameFoucuOut() {
            if (document.getElementById("txtFullName").value != "") {
                document.getElementById("errFullName").style.visibility = "hidden";
            } else {
                document.getElementById("errFullName").style.visibility = "visible";
            }
        }
        // Function to generate OTP
        function generateOTP() {

            // Declare a digits variable 
            // which stores all digits
            var digits = '0123456789';
            let OTP = '';
            for (let i = 0; i < 4; i++) {
                OTP += digits[Math.floor(Math.random() * 10)];
            }
            return OTP;
        }




    </script>
</body>

</html>